{{boilerplate1}}
<p class="title">Shapes</p>
<p>A <i>shape tree</i> is a <a href="prototypetree.html">prototype tree</a> whose nodes are shapes. Shapes inherit from the prototype <span class="textVar">svg.Element</span>, and each shape corresponds to a particular element in the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG">SVG</a> library, a standardized API that is available in any web browser.  At any given time the content that is displayed by PrototypeJungle is  the shape tree 
<span class="textVar">root</span>. When an image generator is loaded via, e.g.</p>
<precode>
<a href="http://localhost:8081/draw.html?source=/generators/lines_chaos_within_order.mjs">http://localhost:8081/draw.html?source=/generators/lines_chaos_within_order.mjs</a>
</precode>
<p>the object which it exports (conventionally named "rs") is bound to <span class="textVar">root</span>, and its content is made visible. </p>
<p>A shape tree's internal nodes are created by the operations:</p>
<precode>
mkContainerShape();
</precode>
<p>and</p>
<precode>
mkArrayShape();
</precode>
<p>while its leaf nodes are elementary shapes like circles and lines.  The prototypes for these elementary shapes are found in /shape/&lt;shapeName&gt;</p>
<p> The following operation applies to  nodes created by <span class="textVar">mkContainerShape</span>:</p>
<precode>
nd.set(name:string,shp:shape)
</precode>
<p>This adds <span class="textVar">shp</span> as a child of <span class="textVar">nd</span> under the given name. After this operation,
<span class="textVar">nd.&lt;name&gt;</span> will evaluate to the newly added shape.</p>

<p>For nodes created by <span class="textVar">mkArrayShape</span>, the operations</p>
<precode>
nd.push(shp.shape)
</precode>

<p>and</p>
<precode>
nd[n:number]
</precode>

<p>apply with their usual meantings.</p>

<p>A basic operation that applies to any node nd in a shape tree is</p>

<precode>
nd.moveto(pnt:Point)
</precode>

<p>See the documentatation of image generators, or the source files for any of the dozens of <a href="../images.html">images</a> that come with PrototypeJungle,  for examples of how shapes are created and used.</p>

Here are the elementary shapes supported by PrototypeJungle, and their properties;</p>



<hr/>
<p class="textVar" id="Point">line</p>
</p>

<p> Properties of line <span class="textVar">ln</span>,</p>
<table>

<tbody>
<tr class="pbot"><td>Property</td><td>Type</td></tr>
<tr><td colspan="3">----------------------------------------</td></tr>
<tr><td><span class="textVar">ln.stroke</td><td>color string such as 'blue', 'rgb(10,20,30)', or 'rgba(200,100,50,.5)'</td></tr>
<tr><td><span class="textVar">ln.fill</span></td><td>color string</td></tr>
<tr><td><span class="textVar">ln['stroke-width']</span></td><td>number</td></tr>
<tr><td><span class="textVar">ln.end0</span></td><td>Point</td></tr>
<tr><td><span class="textVar">ln.end1</span></td><td>Point</td></tr>
</tbody>
</table>

<p>Operations:</p>
<precode>
ln.setEnds(end0:Point,end1:Point) => null
</precode>
<p>
This corresponds to the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line">line</a> element.
</p>


<p class="textVar" id="Point">rectangle</p>
</p>

<p> Properties of rectangle <span class="textVar">r</span>,</p>
<table>

<tbody>
<tr class="pbot"><td>Property</td><td>Type</td></tr>
<tr><td colspan="3">----------------------------------------</td></tr>
<tr><td><span class="textVar">r.stroke</td><td>color string such as 'blue', 'rgb(10,20,30)', or 'rgba(200,100,50,.5)'</td></tr>
<tr><td><span class="textVar">r.fill</span></td><td>color string</td></tr>
<tr><td><span class="textVar">r['stroke-width']</span></td><td>number</td></tr>
<tr><td><span class="textVar">r.width</span></td><td>number</td></tr>
<tr><td><span class="textVar">r.height</span></td><td>number</td></tr>
</tbody>
</table>


<p>This corresponds to the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect">rect</a> element.
</p>


<p class="section" id="Point">circle</p>
</p>

<p> Properties of circle <span class="textVar">c</span>,</p>
<table>

<tbody>
<tr class="pbot"><td>Property</td><td>Type</td></tr>
<tr><td colspan="3">----------------------------------------</td></tr>
<tr><td><span class="textVar">c.stroke</td><td>color string</td></tr>
<tr><td><span class="textVar">c.fill</span></td><td>color string</td></tr>
<tr><td><span class="textVar">c['stroke-width']</span></td><td>number</td></tr>
<tr><td><span class="textVar">c.radius</span></td><td>number</td></tr>
</tbody>
</table>


<p>This corresponds to the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/circle">circle</a> element.
</p>

</precode>
<p>Methods for Point <span class="textVar">p</span>,</p>
<precode>
p.plus(q:&lt;Point&gt;); // returns the vector sum p and q
p.difference(q:&lt;Point&gt;); // returns the vector subtraction of q from p
p.distance(q:&lt;Point&gt;); // returns distance from p to q
p.normalize(); // returns p shrunk or extended to a unit vector with the same direction
p.normal(); // returns a vector which is orthogonal to p
p.times(s:&lt;number&gt;); // return p scaled by s
</precode>
<hr/>
<p class="textVar">LineSegment</p>
<precode>
LineSegment.mk(end0:&lt;Point&gt;,end1:&lt;Point&gt;)
</precode>
<p> Properties of LineSegment <span class="textVar">s</span>,</p>
<precode>
s.end0
s.end1
</precode>
<p>Methods for LineSegment <span class="textVar">s</span>,</p>
<precode>
s.length();
s.pointAlong(n:&lt;number&gt;) // for 0&lt;=n&lt;=1, returns the point fraction n of the way from end0 to end1
</precode>
<hr/>
<p class="textVar">Circle</p>
<precode>
Circle.mk(center:&lt;Point&gt;,radius:&lt;number&gt;)
</precode>
<p> Properties of Circle <span class="textVar">c</span>,</p>
<precode>
c.center
c.radius
</precode>
<hr/>
<p class="textVar" id="Point3d">Point3d</p>

</p>
<p>Constructor:</p>
<precode>
Point3d.mk(x:&lt;number&gt;,y:&lt;number&gt;,z:&lt;number&gt;)
</precode>
<p> Properties of Point3d <span class="textVar">p</span>,</p>
<precode>
p.x
p.y
p.z
</precode>
<p>Methods for Point3d <span class="textVar">p</span>,</p>
<precode>
p.plus(q:&lt;Point&gt;); // returns the vector sum p and q
p.difference(q:&lt;Point&gt;); // returns the vector subtraction of q from p
p.distance(q:&lt;Point&gt;); // returns distance from p to q
p.times(s:&lt;number&gt;); // return p scaled by s
</precode>
<hr/>
<p class="textVar" id="Camera">Camera</p>
</p>


<p>Constructor:</p>
<precode>
Camera.mk(focalPoint:&lt;Point3d&gt;,focalLength:&lt;number&gt;,scaling:&lt;number&gt;,axis:&lt;string&gt;)
</precode>
<p><span class="textVar">axis</span> should be one of "x", "y", "z"
<p> Properties of Camera <span class="textVar">c</span>,</p>
<precode>
c.focalPoint
c.focalLength
p.scaling
p.axis
</precode>
<p>Methods for Camera <span class="textVar">c</span>,</p>
<precode>
c.project(p:&lt;Point3d&gt;); // returns the projection of p onto the focal plane
</precode>


{{endplate}}
